<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yao.dao.RecruitMapper">
    <resultMap id="findRecruit" type="Recruit">
        <id property="riid" column="ri_id"/>
        <result property="riName" column="ri_name"/>
        <result property="riCompany" column="ri_company"/>
        <result property="riSalary" column="ri_salary"/>
        <result property="riDuty" column="ri_duty"/>
        <result property="riDesired" column="ri_desired"/>
        <result property="riAddtion" column="ri_addtion"/>
        <result property="riLocation" column="ri_location"/>
        <result property="riStatus" column="ri_status"/>
    </resultMap>
    <insert id="saveRecruit">
        INSERT INTO T_HRSYS_RECRUITINF (RI_NAME, RI_COMPANY, RI_SALARY, RI_DUTY, RI_DESIRED, RI_ADDTION, RI_LOCATION, RI_STATUS)
        VALUES (#{riName},#{riCompany},#{riSalary},#{riDuty},#{riDesired},#{riAddtion},#{riLocation},#{riStatus})
    </insert>
    <update id="updateRecruit">
        UPDATE T_HRSYS_RECRUITINF
        <set>
            <choose>
                <when test="riName!=null and riName!=''">
                    RI_NAME = #{riName}
                </when>
                <when test="riCompany!=null and riCompany!=''">
                    RI_COMPANY = #{riCompany}
                </when>
                <when test="riSalary!=null and riSalary!=''">
                    RI_SALARY = #{riSalary}
                </when>
                <when test="riDuty!=null and riDuty!=''">
                    RI_DUTY = #{riDuty}
                </when>
                <when test="riDesired!=null and riDesired!=''">
                    RI_DESIRED = #{riDesired}
                </when>
                <when test="riAddtion!=null and riAddtion!=''">
                    RI_ADDTION = #{riAddtion}
                </when>
                <when test="riLocation!=null and riLocation!=''">
                    RI_LOCATION = #{riLocation}
                </when>
                <when test="riStatus!=null and riStatus!=''">
                    RI_STATUS = #{riStatus}
                </when>
            </choose>
        </set>
        WHERE RI_ID=#{riid}
    </update>
    <delete id="deleteRecruit"></delete>
    <select id="findRecruit" resultMap="findRecruit">
        SELECT * FROM T_HRSYS_RECRUITINF WHERE RI_ID=#{riid} AND RI_STATUS=#{riStatus}
    </select>
    <select id="listAll" statementType="CALLABLE" resultType="Recruit">
        {call PAGING_CURSOR(
        #{tableName, mode=IN,jdbcType=VARCHAR},
        #{sqlWhere, mode=IN,jdbcType=VARCHAR},
        #{pageSize, mode=IN,jdbcType=INTEGER},
        #{pageNow, mode=IN,jdbcType=INTEGER},
        #{result, mode=OUT,jdbcType=CURSOR,javaType=java.sql.ResultSet,resultMap=findRecruit},
        #{rows, mode=OUT,jdbcType=INTEGER},
        #{pageCount, mode=OUT,jdbcType=INTEGER}
        )}
    </select>
</mapper>